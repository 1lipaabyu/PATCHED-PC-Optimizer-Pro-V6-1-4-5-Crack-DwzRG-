<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
</head>
<body>
<canvas id="c1" width="200" height="100" style="border:1px solid #c3c3c3;">
Your browser does not support the HTML5 canvas tag.
</canvas>

<canvas id="c2" width="200" height="100" style="border:1px solid #c3c3c3;">
Your browser does not support the HTML5 canvas tag.
</canvas>

<span><template><canvas width="200" height="100" style="border:1px solid #c3c3c3;"></template></span>

<script>
var c = document.getElementById("c1");
var ctx = c.getContext("2d");
ctx.fillStyle = "#FF0000";
ctx.fillRect(0, 0, 150, 75);
</script>

<script>
var c = document.getElementById("c2");
var ctx = c.getContext("2d");
ctx.fillStyle = "#00FF00";
ctx.fillRect(0, 0, 100, 75);
</script>

<script>
var d = document.querySelector('span');
var s = d.attachShadow({mode: 'open'});
s.appendChild(document.importNode(d.querySelector('template').content, true));

var c = s.querySelector("canvas");
var ctx = c.getContext("2d");
ctx.fillStyle = "#0000FF";
ctx.fillRect(50, 0, 100, 75);
</script>
</body>
</html>
